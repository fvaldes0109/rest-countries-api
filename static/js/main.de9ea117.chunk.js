(this["webpackJsonprest-countries-api"]=this["webpackJsonprest-countries-api"]||[]).push([[0],{19:function(e,t){e.exports={parsePopulation:function(e){for(var t=e.toString(),n="",r=0,c=t.length-1;c>=0;c--)n=t[c]+n,3===++r&&0!==c&&(n=","+n,r=0);return n}}},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(24),s=n.n(a),i=(n(29),n(7)),o=n(8),u=n(9),l=n(10),j=(n(30),n(31),n(13)),h=n(3),d=n(19),p=n(1),b=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={flag:e.flag,name:e.name,region:e.region,capital:e.capital,population:e.population},r}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)(j.b,{to:"/"+this.state.name,style:{color:"inherit",textDecoration:"inherit"},children:Object(p.jsxs)("div",{className:"country-card",children:[Object(p.jsx)("img",{src:this.state.flag,alt:this.state.name}),Object(p.jsxs)("div",{className:"country-card-info",children:[Object(p.jsx)("h2",{children:this.state.name}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Population:"})," ",Object(d.parsePopulation)(this.state.population)]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Region:"})," ",this.state.region]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Capital:"})," ",this.state.capital]})]})]})})}}]),n}(c.a.Component),O=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"search",children:[Object(p.jsx)("img",{src:"https://img.icons8.com/ios/50/000000/search--v1.png",alt:"search icon",width:"20"}),Object(p.jsx)("input",{type:"text",placeholder:"Search for a country...",onChange:function(t){return e.props.updateSearchQuery(t.target.value)}})]})}}]),n}(c.a.Component),m=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("select",{onChange:function(t){return e.props.updateRegion(t.target.value)},children:[Object(p.jsx)("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:"Filter by Region"}),Object(p.jsx)("option",{value:"",children:"Any"}),Object(p.jsx)("option",{value:"Africa",children:"Africa"}),Object(p.jsx)("option",{value:"Americas",children:"America"}),Object(p.jsx)("option",{value:"Asia",children:"Asia"}),Object(p.jsx)("option",{value:"Europe",children:"Europe"}),Object(p.jsx)("option",{value:"Oceania",children:"Oceania"})]})}}]),n}(c.a.Component),x=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={nameQuery:"",region:"",displayedCountries:[]},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.countries.length>0&&this.setState({displayedCountries:this.props.countries})}},{key:"componentDidUpdate",value:function(e,t){e.countries!==this.props.countries&&this.setState({displayedCountries:this.props.countries})}},{key:"updateSearchQuery",value:function(e){var t=this;this.setState({nameQuery:e,displayedCountries:this.props.countries.filter((function(t){return""===e||t.name.toLowerCase().includes(e.toLowerCase().trim())})).filter((function(e){return""===t.state.region||t.state.region===e.region}))})}},{key:"updateRegion",value:function(e){this.setState({region:e,displayedCountries:this.props.countries.filter((function(t){return""===e||e===t.region}))})}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("nav",{children:[Object(p.jsx)(O,{updateSearchQuery:this.updateSearchQuery.bind(this)}),Object(p.jsx)(m,{updateRegion:this.updateRegion.bind(this)})]}),Object(p.jsx)("main",{className:"cards-area",children:this.state.displayedCountries.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(b,{flag:e.flag,name:e.name,region:e.region,capital:e.capital,population:e.population},e.index)},e.index)}))})]})}}]),n}(c.a.Component),f=n(4),g=n.n(f),v=n(6),y=function(){var e=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries.com/v2/all?fields=name,capital,region,population,flag");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.map((function(e,t){return e.index=t,e})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries.com/v3.1/name/".concat(t,"?fullText=true"));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,fetch("https://restcountries.com/v3.1/alpha?codes=".concat(t.toString(),"&fields=name"));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={country:window.location.pathname.slice(1),countryData:{},borderNames:[]},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;k(this.state.country).then((function(t){e.setState({countryData:t[0]}),C(t[0].borders).then((function(t){e.setState({borderNames:t})}))}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;t.country!==this.state.country&&k(this.state.country).then((function(e){n.setState({countryData:e[0]}),C(e[0].borders).then((function(e){n.setState({borderNames:e})}))}))}},{key:"setCountry",value:function(e){this.setState({country:e})}},{key:"render",value:function(){var e=this,t=this.state.countryData,n=0===Object.keys(this.state.countryData).length?"":Object(p.jsxs)("div",{className:"info-page",children:[Object(p.jsx)("div",{className:"flag",children:Object(p.jsx)("img",{src:t.flags.svg,alt:"Flag of ".concat(t.name.common)})}),Object(p.jsxs)("div",{className:"info",children:[Object(p.jsx)("h1",{children:t.name.common}),Object(p.jsxs)("div",{className:"info-details",children:[Object(p.jsxs)("div",{className:"col",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Native Name:"})," ",Object.values(t.name.nativeName).map((function(e){return" "+e.common})).toString()]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Population:"})," ",Object(d.parsePopulation)(t.population)]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Region:"})," ",t.region]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Sub Region:"})," ",t.subregion]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Capital:"})," ",t.capital]})]}),Object(p.jsxs)("div",{className:"col",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Top Level Domain:"})," ",t.tld]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Currencies:"})," ",Object.values(t.currencies).map((function(e){return" "+e.name})).toString()]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Languages:"})," ",Object.values(t.languages).map((function(e){return" "+e})).toString()]})]})]}),Object(p.jsx)("div",{className:"border-info",children:0===this.state.borderNames.length?"":Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{children:Object(p.jsx)("strong",{children:"Border Countries:"})}),0===this.state.borderNames.length?"":this.state.borderNames.map((function(t,n){return Object(p.jsx)(j.b,{to:"/".concat(t.name.common),style:{color:"inherit",textDecoration:"inherit"},children:Object(p.jsx)("button",{onClick:function(){return e.setCountry(t.name.common)},children:t.name.common})},n)}))]})})]})]});return Object(p.jsxs)("div",{className:"detail-page",children:[Object(p.jsx)("nav",{children:Object(p.jsx)(j.b,{to:"/",style:{color:"inherit",textDecoration:"inherit"},children:Object(p.jsxs)("button",{className:"back-button",children:[Object(p.jsx)("img",{src:"https://img.icons8.com/ios/50/000000/back.png",alt:"back icon",width:"20"}),"Back"]})})}),Object(p.jsx)("main",{children:n})]})}}]),n}(c.a.Component),S=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={countries:[]},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;y().then((function(t){e.setState({countries:t})}))}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("header",{children:Object(p.jsx)("h1",{children:"Where in the world?"})}),Object(p.jsx)(j.a,{children:Object(p.jsxs)(h.c,{children:[Object(p.jsx)(h.a,{exact:!0,path:"/",element:Object(p.jsx)(x,{countries:this.state.countries})}),Object(p.jsx)(h.a,{path:"/:country",element:Object(p.jsx)(N,{})})]})})]})}}]),n}(c.a.Component),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root")),w()}},[[34,1,2]]]);
//# sourceMappingURL=main.de9ea117.chunk.js.map